<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/unit1.css">
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.css">
    <title>Introduction</title>
</head>

<style>
    .slide-out {
      animation: slideOut 1s forwards;
    }

    @keyframes slideOut {
      from {
        transform: translatey(0);
        opacity: 1;
      }

      to {
        transform: translatey(-100%);
        opacity: 0;
      }
    }
  </style>

<body>
    <div class="page-body">
        <div class="container pt-3 mt-n5">
            <h1 class="title text-center">Unit 1</h1>
            <h2 class="text-center typing-animation" id="typingText" style="color: #434982;">Talking about your class
                schedule</h2>
            <div class="content text-center">
                This unit lead how to talk about class schedules in a relaxed and informal way, as students do at
                school. <br>
                listen to the following conversation, try to understand its meaning and, practice it with chairmate
            </div>

            <div class="icon-container overflow-visible">
                <img class="icon-magnifier" src="/Asset/Kaca_pembesar.png" alt="Magnifier Icon">
                <img class="icon-airplane" src="/Asset/pesawat.png" alt="Airplane Icon">
            </div>
        </div>

        <div class="button-container text-center mt-3">
            <a href="#" class="button" id="button-next">Next</a>
        </div>

    </div>

    <img src="/Asset/dekorasi_1.png" alt="Dekorasi_1" class="dekorasi_1 dekorasi-top-right-1 ">
    <img src="/Asset/dekorasi_1.png" alt="Dekorasi 1" class="dekorasi_1 dekorasi-bottom-left-1">
    <img src="/Asset/dekorasi_2.png" alt="Dekorasi 2" class="dekorasi_2 dekorasi-top-left-2">
    <img src="/Asset/dekorasi_2.png" alt="Dekorasi 2" class="dekorasi_2 dekorasi-bottom-right-2">
  

    <img src="/Asset/Setting.png" alt="Setting" class="image-setting" id="settingButton">
    <img src="/Asset/Setting On.png" alt="Setting On" class="image-setting-on" id="settingOnButton"
        style="display: none;">

    <a href="/script/halaman_navigasi/halaman_navigasi.html">
        <img src="/Asset/home.png" alt="Home" class="image-home">
    </a>

    <div class="audio-controls">
        <img src="/Asset/Mute.png" alt="Mute" class="image-mute" id="muteButton" style="display: none;">
        <img src="/Asset/Sound.png" alt="Sound" class="image-sound" id="soundButton" style="display:none;">
    </div>

    <audio id="audio" preload="auto">
        <source id="audioSource" src="/Asset/audio/contoh.mp3" type="audio/mp3">
    </audio>

    <script>
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 }); 

        const element = document.getElementById('typingText');
        observer.observe(element);

        const settingButton = document.getElementById('settingButton');
        const settingOnButton = document.getElementById('settingOnButton');
        const soundButton = document.getElementById('soundButton');
        const muteButton = document.getElementById('muteButton');
        const audio = document.getElementById('audio');
        const audioSource = document.getElementById('audioSource');

        const songs = [
            "/Asset/audio/contoh.mp3", 
            "/Asset/audio/audio2.mp3",
            "/Asset/audio/audio3.mp3" 
        ];

        let currentSongIndex = 0; 

   
        function changeSong() {
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            audioSource.src = songs[currentSongIndex]; 
            audio.load();
            audio.play();
        }


        settingButton.addEventListener('click', function () {
            settingButton.style.display = 'none'; 
            settingOnButton.style.display = 'block'; 
            muteButton.style.display = 'block';
        });

        muteButton.addEventListener('click', function () {
            audio.play();
            muteButton.style.display = 'none';
            soundButton.style.display = 'block';
        });
    
        soundButton.addEventListener('click', function () {
            audio.pause();
            audio.currentTime = 0;
            soundButton.style.display = 'none';
            muteButton.style.display = 'block'; 
        });

        settingOnButton.addEventListener('click', function () {
            settingOnButton.style.display = 'none'; 
            settingButton.style.display = 'block';
            muteButton.style.display = 'none';
            soundButton.style.display = 'none';
        });

        const buttonNext = document.getElementById("button-next");

        if (buttonNext) {
            buttonNext.addEventListener("click", function (event) {
                event.preventDefault();
                console.log("Tombol Next diklik!");

                const container = document.querySelector(".page-body"); 
                console.log(container);

                if (container) {
                    container.classList.add("slide-out");
                }

                const href = buttonNext.getAttribute("href");

                setTimeout(() => {
                    window.location.href = href;
                }, 1000);
            });
        }

    </script>
</body>

</html>